"""
Auto-generated semantic module for zipingzhenquan
Generated at: 2025-12-05T13:30:19.524049
Version: 1.0.0

对照 Requirements 6.4 - 带 @SemanticRegistry.register 装饰器的 Python 模块
"""

from backend.semantics.core.base import SemanticEntry, SemanticRegistry, NarrativeSnippetExtended
from backend.core.contracts import (
    SnippetRole,
    SourceMetadata,
    ConfigRelation,
    EvidenceChainEntry,
    RelationType,
    EffectDirection,
    ConfidenceLevel,
)


@SemanticRegistry.register(
    semantic_id="zpzq_v1.0.0_杂气四墓的取用原则_001",
    book_id="zipingzhenquan",
    engine_id="bazi"
)
class 杂气四墓的取用原则(SemanticEntry):
    """
    - **原文（source_text）**：
  四墓者，冲气也，何以谓之杂气？以其所藏者多，用神不一，故谓之杂气也。如辰本藏戊，而又为水库，为乙余气，三者俱有，于何取用？然而甚易也，透干会取其清者用...
    """
    
    original_text: str = """- **原文（source_text）**：
  四墓者，冲气也，何以谓之杂气？以其所藏者多，用神不一，故谓之杂气也。如辰本藏戊，而又为水库，为乙余气，三者俱有，于何取用？然而甚易也，透干会取其清者用之，杂而不杂也。

  何谓透干？如甲生辰月，透戊，则用偏财；透癸，则用正印；透乙，则用月劫是也。何谓会支？如甲生辰月，逢申与子会局，则用水印是也。一透则一用，兼透则兼用，透而又会，则透与会并用。其合而有情者吉，其合而无情者，则不吉。

  何谓有情？顺而相成者是也。如甲生辰月，透癸为印，而又会子会申以成局，印绶之格，清而不杂，是透干与会支，合而有情也。又如丙生辰月，透癸为官，而又逢乙以为印，官与印相生，而印又能去辰中暗土以清官，是两干并透，合而有情也。又如甲生丑月，辛透为官，或巳酉会成金局，而又透己财以生官，是两干并透，与会支合而有情也。

  何谓无情？逆而相背者是也。如壬生未月，透己为官，而地支会亥卯以成伤官之局，是透官与会支，合而无情者也。又如甲生辰月，透戊为财，又或透壬癸以为印，透癸则戊癸作合，财印两失；透壬则财印两伤，又以贪财坏印，是两干并透，合而无情也。又如甲生戌月，透辛为官，而又透丁以伤官，月支又会寅会午以成伤官之局，是两干并透，与会支合而无情也。

  又有有情而卒成无情者，何也？如甲生辰月，逢壬为印，而又逢丙，印绶本喜泄身为秀，似成格矣，而火能生土，似又助辰中之戊，印格不清，是必壬干透而支又会申会子，则透丙亦无所碍。又有甲生辰月，透壬为印，虽不露丙而支逢戌位，戌与辰冲，二者为月冲，而土动，干头之壬难通月令，印格不成，是皆有情而卒无情，富而不贵者也。

  又有无情而终有情者，何也？如癸生辰月，透戊为官，又有会申会子以成水局，透干与会支相克矣，然所克者乃是劫财，譬如月劫用官，何伤之有？又如丙生辰月，透戊为食，而又透壬为煞，是两干并透，而相克也，然所克者乃是偏官，譬如食神带煞，煞逢食制，二者皆是美格，其局愈贵，是皆无情而终为有情也。

  如此之类，不可胜数，即此为例，旁悟而已。

- 原注（原文注解）：
  　　本章专门讨论“四墓杂气”的取用之道：辰、戌、丑、未四墓，本为“冲气之地”，所藏干多而杂，用神不一，故称“杂气”；然而只要善于分辨“透干”与“会支”，并以“清者为用”，则可以做到“杂而不杂”。
  - 开篇以辰为代表：辰中藏戊土、为水库、又有乙木余气，似乎财、印、比（劫）三者并存，难以取用；作者指出，关键在于：
    - 只要看谁透干、谁会局，就可以明白该以哪一支为主，用之则清.
  - “透干”与“会支”的基本定义：
    - 透干：辰中戊癸乙三干，谁透出天干，便以其所属十神为用，如戊为偏财、癸为印、乙为比劫；
    - 会支：若支上再与申、子等会局成水，则以水印为用，如“申子辰”水局；
    - 一透则一用，兼透则兼用；既透又会，则透与会并用，前提是“合而有情”。
  - “有情 / 无情”的判准：
    - 有情：透干与会支顺势相成，如印格得水局相帮、官印相生并能去暗土等；
    - 无情：透干与会支互相抵牾，如官透而支成伤局、财印互伤、官伤互斗等.
  - 中后段讨论更微妙的两类：
    - 有情而卒成无情：初看结构有情，后续却因另一个字的介入而使格局变浊，如印喜泄身为秀，却又助土浊印；
    - 无情而终有情：初看透干与会支互克，实则所克者乃劫财、偏官等忌神，反倒因克而成妙格，如月劫用官、食神带煞等.

- 分字分词释义：
  - 四墓：辰、戌、丑、未四支，常称四库、四墓，为冲气之地.
  - 杂气：一支之中所藏天干多而不一，用神不易单纯判定.
  - 冲气：指四墓在十二支对冲、刑冲时所激发出的气机变化.
  - 透干：地支所藏天干透出于天干之上.
  - 会支：数支会合成局，如申子辰水、寅午戌火等.
  - 月劫：同类劫财坐镇月令.
  - 有情：顺势相生、相成、相辅之关系.
  - 无情：逆势相克、相背、相争之关系.
  - 卒成无情：起初有情，因后续变化而终至无情.
  - 终有情：起初似无情，因后续变化而最终成为有情.
  - 贪财坏印：财星过盛，损坏印星，使印格不成.
  - 食神带煞：食神与七煞并见且相互作用的格局.

- **规范化释义（primary_lang_explained）**：
  本章围绕一个常见难点展开：**如何在四墓杂气中取用？** 辰、戌、丑、未往往同时藏有数种天干，使很多人“不知从何下手”。作者强调，只要掌握“透干、会支”与“有情、无情”这两组钥匙，“杂气亦可用得清”。

  首先，以辰为例：辰中藏戊土，为水库，又有乙木余气，似乎财、印、比三者并存。若只看“辰为库”，自然会觉得头大；但若看谁透干、谁会局，问题就简单了：
  - 甲生辰月，若戊土透出，就以偏财为用；
  - 若癸水透出，就以印为用；
  - 若乙木透出，就以月劫为用；
  - 若支成申子辰会局，则以水印为用.
  “一透则一用，兼透则兼用，透而又会，则透与会并用”，但前提是“有情”。

  接着，作者通过一系列例子具体说明“有情 / 无情”的差别：
  - 有情的例子：
    - 甲生辰月，癸透为印，又会子申水局，印格清纯不杂，是透干与会支同向；
    - 丙生辰月，癸透为官，又逢乙为印，官印相生，印还能去辰中暗土以清官，是两干并透而有情；
    - 甲生丑月，辛透为官，支会巳酉金局，又透己财生官，是透干与会支同向而有情.
  - 无情的例子：
    - 壬生未月，己透为官，而支会亥卯成伤局，是透官与会支互相拆台；
    - 甲生辰月，透戊为财，又透壬癸为印：透癸则戊癸合，财印两失；透壬则财印两伤，贪财坏印，都是两干并透而无情；
    - 甲生戌月，透辛为官，又透丁为伤，支会寅午成伤局，是官伤对立，难言有情.

  然后，书中提出两种更微妙的情形：
  - 有情而卒成无情：
    - 如甲生辰月，壬为印，丙为食，印喜有食泄秀，似是佳局；然火生土反助辰中戊土，印格浑浊不清，必须再有申子会局以通印，方能避免“卒无情”；
    - 又如甲生辰月，壬透为印而支逢戌与辰冲，土动而壬难通月令，印格亦不成.
  - 无情而终有情：
    - 如癸生辰月，戊为官，申子会局成水，表面看透干与会支相克；但所克者为劫财，若是“月劫用官”，则反属佳局；
    - 又如丙生辰月，戊为食、壬为煞，两干相克，本似无情；然食神带煞、煞逢食制，反成美格，愈显其贵.

  总结来说：杂气的精髓在于：
  - 不怕藏干多，只要明确取用次序；
 
 - **完整对等诠释（secondary_lang_full）**：  
   This chapter tackles a classic difficulty in Ziping: how to make sense of the mixed qi hidden in the Four Tomb branches—Chen, Xu, Chou and Wei. Each Tomb hides several stems at once, so that Wealth, Resource, Peers and other functions all seem to be present together. The author argues that as long as we treat "what emerges to the Heavenly Stems" and "what assembles in the Branches" as two key filters, even the most tangled configuration can be handled in a clear and orderly way.
  - 不怕生克复杂，只要分清有情与无情；
  - 许多看似“乱”的局，往往正藏着“变通”的妙机.

- 详细解说：
  - 四墓杂气是最易令人畏惧的部分：
    - 因其所藏多头，用神不一，一旦处理不当，就会落入“杂而真杂”的状态；
    - 但只要掌握透干、会支、有情、无情的辨法，便能“杂而不杂”，化繁为简.
  - “有情而卒无情”“无情而终有情”两类格外重要：
    - 前者提醒我们：初步判断不能只看一层，要关注后续合会与冲动；
    - 后者则提醒：很多看似不吉的生克，若作用到忌神身上，反可能成为美格.
  - 本章与前文“用神变化”“因成得败因败得成”相呼应：
    - 杂气的取用，本身就是一种“变化中的成败互转”。

- 核心要点：
  - 四墓杂气取用三问：
    1) 谁透干？（先看透干之用神）
    2) 谁会局？（再看会支之用神）
    3) 透与会之间，是有情还是无情？
  - 有情：透干与会支同向相成，宜并用；无情：互相拆台，则需权衡取舍，或弃其一.
  - 对“有情而卒无情”“无情而终有情”要特别敏感：
    - 看清变化前后“所伤者是用神还是忌神”。

- 应用推演：
  1) 碰到四墓月令（辰戌丑未），先列出藏干结构及其十神属性；
  2) 确认哪些藏干透出，哪些通过会局成势；
  3) 分析透干与会支之间的生克关系，标记有情与无情；
  4) 检查是否存在“有情而卒无情”或“无情而终有情”的情况，进一步评估格局高低；
  5) 在岁运推断时，重点观察是否有新透干、新会局改变原有“情态”。

- 反例与边界：
  - 见辰戌丑未即断为“杂乱难用”，不看透干与会局具体生克；
  - 把任何多干并透、一支会成三合都当作吉，不分情状；
  - 把“贪财坏印”“食神带煞”等古句生搬硬套，不管本局是否真落在这种情形里；
  - 忽略“有情而卒无情、无情而终有情”的时间维度，只按某一时点的静态图来判断成败.

- 小例（示意）：
  - 一命甲生辰月，癸透为印，支再会申子水局，虽辰中戊土未被完全去尽，却已形成本章所谓“透干与会支合而有情”的印格，可视为杂气中取清之例；
  - 另一命丙生辰月，戊食壬煞并透，初看食煞相克、杂气难明，但若岁运再助食、制偏官而不破其它用神，则可归入“无情而终有情”的妙格范畴.

- 校勘与字词辨析：
  - 原文“变幼无穷”等语，在其他章节有相关异文，本章不再赘述，重点在于明晰“杂气”概念与“有情—无情”的判别；
  - “即此为例，旁悟而已”一句，点明本章例子并不穷尽，学者需触类旁通，结合前文用神与成败之理自行推演.

---


- **叙事素材（narrative_snippets）**：
  - `[ns_zpzy_309]` `[trigger: 杂气取用]` `[factor_trigger: zaqi_yueling_tougan_huizhi AND fang_neng_cheng_ge]` `[role: 主干]` 杂气月令透干会支，方能成格。 → 《子平真诠》#上卷
  - `[ns_zpzy_310]` `[trigger: 化格之法]` `[factor_trigger: huage_xu_huazhen AND zhen_ze_xianda]` `[role: 主干]` 化格须化真，真则显达。 → 《子平真诠》#上卷
  - `[ns_zpzy_311]` `[trigger: 病重药重]` `[factor_trigger: (bingzhong AND yaozhong) OR (bingqing AND yaoliang)]` `[role: 主干]` 病重药重，病轻药轻。 → 《子平真诠》#上卷"""
    normalized_text_zh: str = """"""
    subject: str = "杂气四墓的取用原则"
    factor_refs: list = ['four_tomb', 'mixed_qi', 'emerging_stem', 'assembling_branch', 'youqing_config', 'wuqing_config']
    
    # 叙事素材（包含 trigger_human）
    narrative_snippets: list = [

    ]
    
    # L2.5 因子关系
    related_semantics: list = [

    ]
    
    # L2.5 证据链
    evidence_refs: list = [

    ]
    
    metadata: SourceMetadata = SourceMetadata(
        book_id="zipingzhenquan",
        chapter="",
        l1_anchor="zpzq_v1.0.0_杂气四墓的取用原则_001_L1",
    )
    version: str = "1.0.0"
