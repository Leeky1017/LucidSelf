"""
Auto-generated semantic module for ziwei
Generated at: 2025-12-05T13:30:19.725737
Version: 1.0.0

对照 Requirements 6.4 - 带 @SemanticRegistry.register 装饰器的 Python 模块
"""

from backend.semantics.core.base import SemanticEntry, SemanticRegistry, NarrativeSnippetExtended
from backend.core.contracts import (
    SnippetRole,
    SourceMetadata,
    ConfigRelation,
    EvidenceChainEntry,
    RelationType,
    EffectDirection,
    ConfidenceLevel,
)


@SemanticRegistry.register(
    semantic_id="zw_v1.0.0_23_其他杂曜_空劫_天刑_天姚等_002",
    book_id="ziwei",
    engine_id="ziwei"
)
class 23其他杂曜空劫天刑天姚等(SemanticEntry):
    """
    - 原文（source_text）：

  问：天伤、天使星所主若何？

  希夷先生答曰：天伤乃上天虚耗之神，天使乃上天传使之神。太岁二限逢之，不问得地否，只要吉多为福，其祸稍轻。如无吉值巨门、羊陀...
    """
    
    original_text: str = """- 原文（source_text）：

  问：天伤、天使星所主若何？

  希夷先生答曰：天伤乃上天虚耗之神，天使乃上天传使之神。太岁二限逢之，不问得地否，只要吉多为福，其祸稍轻。如无吉值巨门、羊陀火忌天机，其年必主官灾、丧亡破败。

  歌曰：限至天耗号天伤，夫子在陈也绝粮。天使限临人共忌，石崇富贵破家亡。

- 分字分词释义：

  - **天伤**：上天虚耗之神，主消耗、损减与无谓的流失，类似隐性的资源外泄。
  - **天使**：上天传使之神，主消息传递与事件触发，往往作为灾厄或变故的"使者"角色出现。
  - **太岁二限**：流年太岁与大小限运，是触发天伤天使凶性的主要时间窗口。
  - **吉多为福**：遇此二星时，若三方四正吉星聚集，可压制其凶性，使祸害减轻。
  - **官灾丧亡破败**：无吉星保护时，天伤天使所触发的典型凶象，从官非、死亡到家业败落皆可应验。
  - **夫子在陈绝粮**：以孔子困于陈蔡、断粮七日的典故，说明即使圣人也难逃限运逢天伤之厄。
  - **石崇富贵破家亡**：以西晋巨富石崇最终被灭族的故事，说明天使临限时富贵也难保，倾家荡产在所难免。

- 规范化释义（primary_lang_explained）：

  天伤、天使在紫微斗数中是一对专司"虚耗"与"触发"的凶曜：天伤如隐性外泄，让资源、精力与时运在不知不觉中流失；天使则像灾厄的信使，在特定限运与流年中把潜在的凶险激活为具体事件。原文特别强调"太岁二限逢之，不问得地否"——这意味着无论二星在命盘中的庙旺状态如何，只要流年或限运触及，都必须认真看待其可能的破坏力。

  解读的关键在于"吉多为福"：如果命盘三方四正有禄权科或其他吉星压阵，天伤天使的凶性可被抑制，灾祸或可降至"小破财、小官非"层级；反之，若同时遭遇巨门、羊陀、火忌、天机等凶星或化忌，则极易演化成大的官灾、亲人丧亡或家业败落。歌诀中举孔子困陈与石崇灭族为例，意在说明：无论智慧如圣人、财富如巨贾，一旦限运撞上天伤天使而又缺乏吉曜护持，都可能在短时间内陷入极端困境。因此，对待这对凶星的策略是：提前布局、广结善缘、储备资源，以吉曜之厚度来对冲虚耗之损。

- 完整对等诠释（secondary_lang_full）：

  Tianshang and Tianshi function as a pair of malefic stars governing leakage and activation of misfortune in Ziwei Doushu. Tianshang, described as the "Celestial Deity of Depletion", indicates a slow but persistent drain on resources, vitality and opportunity—often invisible until the damage is done. Tianshi, the "Celestial Envoy", acts as a trigger that converts latent vulnerability into concrete events: legal trouble, bereavement, bankruptcy. The text insists that these stars demand attention whenever the Annual Ruler or major/minor periods pass through their positions, regardless of whether they are dignified or fallen in the natal chart.

  The crucial interpretive pivot is "when auspicious stars are many, blessing prevails": if the triad and square houses are well populated with salary stars, authority stars or scholarly benefics, the destructive potential of Tianshang and Tianshi can be contained to manageable inconvenience. However, when Giant Gate, the Rams and Harrows, Fire and Taboo, or Celestial Armillary join the configuration, the outcome is likely severe—ranging from imprisonment and disgrace to the death of close kin and total loss of estate. The verses cite Confucius starving during his years in Chen and the fabulously wealthy Shi Chong meeting ruin and execution, demonstrating that neither sagacity nor fortune offers immunity once these stars are activated without protection. The practical lesson is to prepare in advance: accumulate goodwill, diversify support and ensure that the natal chart's benefic density is sufficient to absorb the shock when depletion and triggering coincide.

- 核心要点：

  1. **天伤虚耗**：上天虚耗之神，主隐性的资源流失与精力消耗。
  2. **天使触发**：上天传使之神，主灾厄的激活与事件的引爆。
  3. **太岁限运**：不问得地否，太岁二限逢之即须警惕，时间窗口比庙旺更重要。
  4. **吉多为福**：吉星聚集可压制凶性，祸害减轻；无吉则官灾丧亡破败。
  5. **圣贤富贵难免**：孔子困陈、石崇破家，说明再高的智慧与财富也难挡此限无吉之厄。

- 叙事素材（narrative_snippets）：

  - **天伤虚耗**："天伤乃上天虚耗之神"，标记命运中隐性流失与不断消耗的领域。
  - **天使触发**："天使乃上天传使之神"，作为灾厄的信使，在限运中将凶险转为事件。
  - **吉多为福**："不问得地否，只要吉多为福，其祸稍轻"，吉星密度是化解天伤天使的关键。
  - **孔子困陈**："限至天耗号天伤，夫子在陈也绝粮"，圣人智慧亦不能免除限运之厄。
  - **石崇破家**："天使限临人共忌，石崇富贵破家亡"，巨富财力也无法抵挡无吉之限的毁灭性打击。
  - **现代应用**：天伤天使可作为评估"资源流失风险期"与"突发变故触发期"的时间指标，提醒提前储备与分散风险。"""
    normalized_text_zh: str = """"""
    subject: str = "23 其他杂曜（空劫、天刑、天姚等）"
    factor_refs: list = ['star_tianshang', 'star_tianshi', 'principle_jiduo_weifu', 'result_guanzai_sangwang']
    
    # 叙事素材（包含 trigger_human）
    narrative_snippets: list = [

    ]
    
    # L2.5 因子关系
    related_semantics: list = [

    ]
    
    # L2.5 证据链
    evidence_refs: list = [

    ]
    
    metadata: SourceMetadata = SourceMetadata(
        book_id="ziwei",
        chapter="",
        l1_anchor="zw_v1.0.0_23_其他杂曜_空劫_天刑_天姚等_002_L1",
    )
    version: str = "1.0.0"
