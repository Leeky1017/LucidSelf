"""
Auto-generated semantic module for sanming
Generated at: 2025-12-05T13:30:19.412476
Version: 1.0.0

对照 Requirements 6.4 - 带 @SemanticRegistry.register 装饰器的 Python 模块
"""

from backend.semantics.core.base import SemanticEntry, SemanticRegistry, NarrativeSnippetExtended
from backend.core.contracts import (
    SnippetRole,
    SourceMetadata,
    ConfigRelation,
    EvidenceChainEntry,
    RelationType,
    EffectDirection,
    ConfidenceLevel,
)


@SemanticRegistry.register(
    semantic_id="smth_v1.0.0_子午双包与水火既济_001",
    book_id="sanming",
    engine_id="bazi"
)
class 子午双包与水火既济(SemanticEntry):
    """
    - **原文（source_text）**：

  子为帝座，午为端门，帝王所居之位。人命或两子两午，或两午包一子，或两子包一午，有水火既济之道，阳生阴生之机，遇者主贵。如：壬午、壬子、戊午、壬子，两...
    """
    
    original_text: str = """- **原文（source_text）**：

  子为帝座，午为端门，帝王所居之位。人命或两子两午，或两午包一子，或两子包一午，有水火既济之道，阳生阴生之机，遇者主贵。如：壬午、壬子、戊午、壬子，两午两子；壬子、癸丑、戊午、壬子，甲子、庚午、丙申、戊子，戊午、丁未、庚子，皆两个包午；戊午、甲子、甲申、庚午，甲午、壬申、甲子、庚午，皆两午包子，俱贵命。

- 分字分词释义：

  - **子为帝座，午为端门**：子位象帝王之座，午位象朝堂之门，子午一对，象征中枢与门庭。
  - **两子两午**：四柱中出现两个子、两个午，水火对峙而又相济，结构最为典型。
  - **两午包一子 / 两子包一午**：子或午居中，两侧为其对宫，构成“包裹”之势，如子午子、午子午等，象征水火相挟、居中为尊。
  - **水火既济之道**：子属水，午属火，水火相对且得其所，既不偏枯也不失衡，古人以“既济”形容阴阳调和。
  - **阳生阴生之机**：子午一阴一阳，互相激发生机，寓意性格与境遇中皆有“动中有和、极处逢生”的潜力。

- **规范化释义（primary_lang_explained）**：

  子午双包格，是从子（水）与午（火）这对对宫中，观察命局中是否形成“两子两午”或“子被午包 / 午被子包”的特殊结构。原文把子称为“帝座”、午称为“端门”，意在说明：一旦水火两极成局，并且彼此相互包裹，就像帝王座前之门户森严，既有居中执权之象，又有出入进退之机。

  命中凡见两子两午，或两午包一子、两子包一午者，若整体五行不至失衡，多主贵显：一方面，子水之智与午火之权相济，容易形成既有谋略、又有执行力的性格；另一方面，生活与事业多在“动中得利”，易逢贵人提携、居要津之位。

- 核心要点：

  - 以**子午对宫的数量与位置**为主轴，观察是否形成两子两午、子被午包、午被子包的格局。
  - 象征水火既济、阴阳互生：智谋与权势并重，居中得势。
  - 格局成而不失衡时，多主贵命；若水火偏枯或再受刑冲，则“既济”难保，贵象减弱。

- 详细解说：

  可以把子午双包理解为一种“以柔制刚、以刚护柔”的结构：甲乙木若纯居木火之地，虽有生发之美，却可能欠缺权势与节制；当其坐于金地时，一方面金为财官之源，使木日得财官之利，另一方面金又可制木之过伸，使其性情更见沉稳与持重。

  然而，伏形之“伏”也暗含风险：

  1. 若金过重、木过弱，则伏而不发，容易一生多受约束、难展所长；
  2. 若再见伤官过旺，则官星受损，原有的财官双美之象被破；
  3. 原文特别提到“乙巳日时名青龙伏藏，主饮酒有失”，可视为对行为层面的提醒——命局中伏形者，若又沉迷酒色，更易引发隐性损耗。

  因此，在实务判断时，需要同时看：

  - 木气是否得印比扶持，使其不至于被金完全压制；
  - 官星是否稳固，并无伤官、七煞横生；
  - 行运是否有助于“伏龙见头”，即在适当年份与运程中，使财官之利得以舒展，而不被过度克制或诱发伤灾。

- **校勘与字词辨析（双语）**：

  - 原文“甲乙木属东方，谓之青龙伏形者，伏于金也”一句，本稿在释义中拆解为“青龙之象”与“伏于金地”两层，以便理解其象意。
  - “青龙伏藏”一语，本稿理解为“德行与才能藏于内而未显”，在白话中以“饮酒有失、暗损福寿”的例子加以说明，提示此格既有隐藏之德，也有隐藏之祸。
  - 诗句“甲乙如居申酉乡，木逢春旺最为良，四柱若逢库相助，财官双美不寻常”，本稿在白话与核心要点中概括为“春令助木、库地助财官”两重条件，而不逐句拆译。
  - **English**：
    - The sentence "Jia-Yi wood belongs to the East, called Azure Dragon prostrate form, prostrate upon metal" is split into "Azure Dragon imagery" and "prostrate upon metal land" for understanding.
    - The example charts are summarized for their "Azure Dragon prostrate, body strong assisting wealth-official" dual conditions without line-by-line translation.

- **叙事素材（narrative_snippets）**：
  - `[ns_smth_06_089]` `[trigger: 子午双包定义]` `[factor_trigger: ziwu_shuangbao_presence]` `[role: 主干]` 子为帝座，午为端门，帝王所居之位。 → 《三命通会》卷六#子午双包
  - `[ns_smth_06_090]` `[trigger: 水火既济]` `[factor_trigger: shui_huo_ji_ji]` `[role: 主干依赖]` 人命或两子两午，或两午包一子，或两子包一午，有水火既济之道。 → 《三命通会》卷六#子午双包
  - `[ns_smth_06_091]` `[trigger: 阳生阴生]` `[factor_trigger: yang_sheng_yin_sheng]` `[role: 条件分支]` 阳生阴生之机，遇者主贵。 → 《三命通会》卷六#子午双包
  - `[ns_smth_06_092]` `[trigger: 俱贵命]` `[factor_trigger: ju_gui_ming]` `[role: 总结]` 两子包午、两午包子，俱贵命。 → 《三命通会》卷六#子午双包"""
    normalized_text_zh: str = """"""
    subject: str = "子午双包与水火既济"
    factor_refs: list = ['new_candidate', 'new_candidate', 'new_candidate', 'new_candidate', 'new_candidate', 'new_candidate', 'engine_id', 'bazi_structure_marker_22', 'bazi_semantic', 'new_candidate', 'bazi_semantic', 'bazi_state_wood_1', 'bazi_semantic', 'bazi_state_factor_15', 'bazi_semantic', 'bazi_condition_factor_159', 'bazi_semantic', 'bazi_condition_factor_160', 'bazi_semantic', 'source_ref', 'rel_smth_06_067', 'ziwu_shuangbao_presence', 'rel_smth_06_068', 'muqi_yinbi_fuchi', 'rel_smth_06_069', 'fu_bufafa_risk', 'evi_smth_06_067', 'ziwu_shuangbao_presence', 'rule_shuangbao', 'evi_smth_06_068', 'muqi_yinbi_fuchi', 'rule_jiji', 'evi_smth_06_069', 'xingwei_yinxing_sunhao', 'rule_jiuse', 'map_smth_06_045', 'map_smth_06_046']
    
    # 叙事素材（包含 trigger_human）
    narrative_snippets: list = [

    ]
    
    # L2.5 因子关系
    related_semantics: list = [

    ]
    
    # L2.5 证据链
    evidence_refs: list = [

    ]
    
    metadata: SourceMetadata = SourceMetadata(
        book_id="sanming",
        chapter="",
        l1_anchor="smth_v1.0.0_子午双包与水火既济_001_L1",
    )
    version: str = "1.0.0"
