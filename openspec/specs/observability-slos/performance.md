# 可观测性与SLO — 性能目标与测量方式（规格层）

本文件定义 `observability-slos` 的性能目标与最小测量口径。禁止写实现细节；仅定义 MUST/SHALL 与可判定口径。

## 1) 关键路径（最小集合）

- trace 传播与上下文关联（request_id/trace_id）
- 结构化日志写入
- 指标采集与聚合
- SLO 评估与告警触发

## 2) 性能目标（最小）

- 观测开销（对关键请求路径的额外延迟）p95 SHOULD ≤ 10ms（以端到端对比或观测中间件耗时判定）。
- SLO 评估延迟：SLO 违约检测 SHOULD 在 5 分钟内可见（以评估窗口与告警触发时间判定）。

## 3) 测量口径（最小）

- 性能测量 MUST 记录观测相关中间件/拦截器耗时（若存在），并可按能力/路径聚合。
- 告警触发 MUST 可追溯到对应的 `slo_id` 与评估窗口。

