# 可观测性与SLO — 合规（保留/删除/审计证据与期限）

本文件定义 `observability-slos` 的合规最小口径：需要保留的证据项、留存期限与删除口径。禁止写实现细节；仅定义 MUST/SHALL 与可判定口径。

## 1) 必须保留的证据项（最小）

系统 MUST 能够在合规审计时提供以下证据项（最小集合）：

- SLO 定义与告警规则的版本化记录（至少可按 `slo_id/rule_id` 与时间窗口定位）
- SLO 评估与违约事件的审计记录（至少可按 `slo_id` 与时间窗口定位）
- 观测字段/命名规范变更的审计记录（至少可按 `event_type` 与时间窗口定位）

## 2) 留存期限（最小）

- 审计记录：MUST 留存 ≥ 365 天（或更长，按更严格合规要求执行）。
- logs：SHOULD 留存 ≥ 30 天（按业务与合规要求可上调）。
- traces：SHOULD 留存 ≥ 7 天（按业务与合规要求可上调）。
- metrics 聚合：SHOULD 留存 ≥ 90 天（按业务与合规要求可上调）。

## 3) 删除与合规审计（MUST）

- 在满足合规保留要求的前提下，系统 SHALL 支持删除/清理策略；任何清理动作 MUST 可审计。
- 对外导出的审计数据 MUST 遵循最小化/脱敏规则（见 `audit_log.md`）。

